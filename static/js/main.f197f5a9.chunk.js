(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(25)},21:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),s=n.n(i),u=(n(21),n(2)),c=n.n(u),o=n(11),l=n(4),h=n(12),b=n(5),d=n(6),p=n(10),g=n(7),f=n(9),O=n(1),k=n(8),m=n.n(k),w=n(3),y=n.n(w),v=function(e){function t(){return Object(b.a)(this,t),Object(p.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.lit,a=e.onPress;return r.a.createElement("div",{className:m()("button",t,{lit:n}),onClick:function(){return a(t)}})}}]),t}(a.PureComponent),j={litDuration:500,failLitDuration:2e3,red:"red",yellow:"yellow",blue:"blue",green:"green"};function x(){var e=[j.blue,j.green,j.yellow,j.red];return e[Math.floor(Math.random()*e.length)]}n(24);var S={targetSequence:[],userSequence:[],litColor:null,buildingTargetSequence:!1},q=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(p.a)(this,Object(g.a)(t).call(this,e))).state=Object(h.a)({},S),n.next=n.next.bind(Object(O.a)(Object(O.a)(n))),n.press=n.press.bind(Object(O.a)(Object(O.a)(n))),n.light=n.light.bind(Object(O.a)(Object(O.a)(n))),n.reinitialize=n.reinitialize.bind(Object(O.a)(Object(O.a)(n))),n.gameOver=n.gameOver.bind(Object(O.a)(Object(O.a)(n))),n.audios={},n.audios[j.yellow]=new Audio("./audio/".concat(j.yellow,".mp3")),n.audios[j.blue]=new Audio("./audio/".concat(j.blue,".mp3")),n.audios[j.green]=new Audio("./audio/".concat(j.green,".mp3")),n.audios[j.red]=new Audio("./audio/".concat(j.red,".mp3")),n.audios.fail=new Audio("./audio/fail.mp3"),n.hack={},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"next",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({buildingTargetSequence:!0}),t=Object(o.a)(this.state.targetSequence),n=x(),t.push(n),this.setState({targetSequence:t}),a=0;case 6:if(!(a<t.length)){e.next=12;break}return e.next=9,this.light(t[a]);case 9:a++,e.next=6;break;case 12:this.setState({buildingTargetSequence:!1});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"gameOver",value:function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.audios.fail.play(),this.setState({litColor:t}),e.next=5,y.a.set(j.failLitDuration);case 5:return this.setState({litColor:null}),e.next=8,y.a.set(j);case 8:this.reinitialize();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"press",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var n,a,r,i,s,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,a=n.targetSequence,r=n.buildingTargetSequence,i=n.litColor,s=Object(o.a)(this.state.userSequence),0!==a.length&&!r&&!i&&a.length!==s.length){e.next=4;break}return e.abrupt("return");case 4:this.hack.red||(this.audios.red.play(),this.audios.red.pause(),this.hack.red=!0),this.hack.yellow||(this.audios.yellow.play(),this.audios.yellow.pause(),this.hack.yellow=!0),this.hack.blue||(this.audios.blue.play(),this.audios.blue.pause(),this.hack.blue=!0),this.hack.green||(this.audios.green.play(),this.audios.green.pause(),this.hack.green=!0),s.push(t),u=0;case 10:if(!(u<s.length)){e.next=17;break}if(a[u]===s[u]){e.next=14;break}return this.gameOver(a[u]),e.abrupt("return");case 14:u++,e.next=10;break;case 17:return this.setState({userSequence:s}),e.next=20,this.light(t);case 20:if(s.length!==a.length){e.next=25;break}return e.next=23,y.a.set(1e3);case 23:this.setState({userSequence:[]}),this.next();case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"light",value:function(){var e=Object(l.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Lighting ".concat(t)),this.audios[t].play(),this.setState({litColor:t}),e.next=6,y.a.set(j.litDuration);case 6:return this.setState({litColor:null}),e.next=9,y.a.set(j.litDuration);case 9:n&&n();case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"reinitialize",value:function(){this.setState(Object(h.a)({},S))}},{key:"render",value:function(){var e=this,t=this.state,n=t.litColor,a=t.targetSequence;t.userSequence;return r.a.createElement("div",{className:"simon"},r.a.createElement("button",{className:m()("go",{hide:a.length>0}),onClick:function(){return e.next()}},"GO!"),r.a.createElement(v,{color:j.yellow,lit:n===j.yellow,onPress:this.press}),r.a.createElement(v,{color:j.green,lit:n===j.green,onPress:this.press}),r.a.createElement(v,{color:j.red,lit:n===j.red,onPress:this.press}),r.a.createElement(v,{color:j.blue,lit:n===j.blue,onPress:this.press}))}}]),t}(a.PureComponent);s.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.f197f5a9.chunk.js.map