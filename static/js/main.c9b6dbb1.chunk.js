(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(24)},20:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),s=n.n(i),u=(n(20),n(1)),c=n.n(u),o=n(11),l=n(5),h=n(12),d=n(6),b=n(7),f=n(10),p=n(8),g=n(2),m=n(9),v=n(4),O=n.n(v),S=n(3),w=n.n(S),k=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.lit,a=e.onPress;return r.a.createElement("button",{className:O()("button",t,{lit:n}),onClick:function(){return a(t)}})}}]),t}(a.PureComponent),y={litDuration:500,failLitDuration:2e3,red:"red",yellow:"yellow",blue:"blue",green:"green",fail:"fail"};function j(){var e=[y.blue,y.green,y.yellow,y.red];return e[Math.floor(Math.random()*e.length)]}n(23);var x={targetSequence:[],userSequence:[],litColor:null,buildingTargetSequence:!1,finalSuccessCount:null},q=function(e){function t(e){var n;Object(d.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).state=Object(h.a)({},x),n.next=n.next.bind(Object(g.a)(n)),n.press=n.press.bind(Object(g.a)(n)),n.light=n.light.bind(Object(g.a)(n)),n.reinitialize=n.reinitialize.bind(Object(g.a)(n)),n.gameOver=n.gameOver.bind(Object(g.a)(n)),n.audios={},n.audios[y.yellow]=new Audio("./audio/".concat(y.yellow,".mp3")),n.audios[y.blue]=new Audio("./audio/".concat(y.blue,".mp3")),n.audios[y.green]=new Audio("./audio/".concat(y.green,".mp3")),n.audios[y.red]=new Audio("./audio/".concat(y.red,".mp3")),n.audios.fail=new Audio("./audio/fail.mp3");y.red,y.blue,y.yellow,y.green,y.fail;return n.soundsHack={},n}return Object(m.a)(t,e),Object(b.a)(t,[{key:"next",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({buildingTargetSequence:!0}),t=Object(o.a)(this.state.targetSequence),n=j(),t.push(n),this.setState({targetSequence:t}),a=0;case 6:if(!(a<t.length)){e.next=12;break}return e.next=9,this.light(t[a]);case 9:a++,e.next=6;break;case 12:this.setState({buildingTargetSequence:!1});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"gameOver",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.targetSequence,a=n.length-1,this.audios.fail.play(),this.setState({litColor:t,finalSuccessCount:a}),e.next=7,w.a.set(y.failLitDuration);case 7:return this.setState({litColor:null}),e.next=10,w.a.set(y);case 10:this.reinitialize();case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"press",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var n,a,r,i,s,u,l,h=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,a=n.targetSequence,r=n.buildingTargetSequence,i=n.litColor,s=Object(o.a)(this.state.userSequence),0!==a.length&&!r&&!i&&a.length!==s.length){e.next=4;break}return e.abrupt("return");case 4:(u=Object.keys(this.audios).find(function(e){return!h.soundsHack[e]}))&&(this.soundsHack[u]=!0,this.audios[u].play(),this.audios[u].pause()),s.push(t),l=0;case 8:if(!(l<s.length)){e.next=15;break}if(a[l]===s[l]){e.next=12;break}return this.gameOver(a[l]),e.abrupt("return");case 12:l++,e.next=8;break;case 15:return this.setState({userSequence:s}),e.next=18,this.light(t);case 18:if(s.length!==a.length){e.next=23;break}return e.next=21,w.a.set(1e3);case 21:this.setState({userSequence:[]}),this.next();case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"light",value:function(){var e=Object(l.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Lighting ".concat(t)),this.audios[t].play(),this.setState({litColor:t}),e.next=6,w.a.set(y.litDuration);case 6:return this.setState({litColor:null}),e.next=9,w.a.set(y.litDuration);case 9:n&&n();case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"reinitialize",value:function(){this.setState(Object(h.a)({},x))}},{key:"render",value:function(){var e=this,t=this.state,n=t.litColor,a=t.targetSequence,i=(t.userSequence,t.finalSuccessCount);return r.a.createElement("div",{className:"simon"},r.a.createElement("button",{className:O()("go",{hide:a.length>0}),onClick:function(){return e.next()}},"GO!"),r.a.createElement("div",{className:O()("successCount",{hide:null===i})},r.a.createElement("div",{className:"center"},i)),r.a.createElement(k,{color:y.yellow,lit:n===y.yellow,onPress:this.press}),r.a.createElement(k,{color:y.green,lit:n===y.green,onPress:this.press}),r.a.createElement(k,{color:y.red,lit:n===y.red,onPress:this.press}),r.a.createElement(k,{color:y.blue,lit:n===y.blue,onPress:this.press}))}}]),t}(a.PureComponent);s.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.c9b6dbb1.chunk.js.map